"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[801],{3801:(e,s,t)=>{t.r(s),t.d(s,{default:()=>v});var r=t(5155),a=t(2775),l=t(9621),o=t(2035),i=t(1007),n=t(9074),c=t(1366),u=t(3786),d=t(6766),m=t(2115),h=t(5453),g=t(9509);let f=()=>g.env.NEXT_PUBLIC_GITHUB_TOKEN,b=e=>new Promise(s=>setTimeout(s,e));async function p(e){try{let s=f(),t={Accept:"application/vnd.github.v3+json","User-Agent":"GitHub-Issues-Explorer/3.0.0"};s&&(t.Authorization="Bearer ".concat(s));let{languages:r,labels:a,sortBy:l}=e,o="is:issue is:open";r.length>0&&(o+=" ".concat(r.map(e=>"language:".concat(e)).join(" "))),a.length>0&&(o+=" ".concat(a.map(e=>'label:"'.concat(e,'"')).join(" ")));let{sort:i,order:n}={newest:{sort:"created",order:"desc"},comments:{sort:"comments",order:"desc"},activity:{sort:"updated",order:"desc"}}[l],c=await fetch("https://api.github.com/search/issues?q=".concat(encodeURIComponent(o),"&sort=").concat(i,"&order=").concat(n,"&per_page=100"),{headers:t,cache:"no-store",signal:AbortSignal.timeout(15e3)});if(!c.ok){let e=await c.text();if(console.error("GitHub API Error:",e),401===c.status)return{issues:[],error:"Authentication failed. Check your GitHub token."};if(403===c.status)return{issues:[],error:"Rate limit exceeded. Please try again later."};return{issues:[],error:"GitHub API error (".concat(c.status,"): ").concat(c.statusText)}}let u=await c.json();if(!u.items||0===u.items.length)return{issues:[],error:"No issues found for the selected criteria."};let d=new Map,m=[];for(let e of u.items){if(e.pull_request)continue;let s=d.get(e.repository_url);if(!s)try{let r=await fetch(e.repository_url,{headers:t,signal:AbortSignal.timeout(5e3)});r.ok&&(s=await r.json(),d.set(e.repository_url,s),await b(50))}catch(s){console.warn("Failed to fetch repo details for ".concat(e.repository_url))}m.push({id:e.id,number:e.number,title:e.title,body:e.body||"",description:e.body?e.body.substring(0,200)+(e.body.length>200?"...":""):"No description.",labels:e.labels.map(e=>({name:e.name,color:e.color,description:e.description})),user:{login:e.user.login,avatar_url:e.user.avatar_url,html_url:e.user.html_url},repositoryName:e.repository_url.split("/").slice(-2).join("/"),repositoryUrl:e.repository_url,repositoryLanguage:(null==s?void 0:s.language)||"N/A",issueLink:e.html_url,createdDate:e.created_at,updatedDate:e.updated_at,comments:e.comments||0,state:e.state})}return{issues:m,error:null}}catch(e){if(console.error("Failed to fetch issues:",e),"TimeoutError"===e.name)return{issues:[],error:"Request timed out. Please try again."};return{issues:[],error:e.message||"An unknown error occurred."}}}let x=e=>{let s=new Date,t=new Date(e),r=Math.floor((s.getTime()-t.getTime())/1e3);return r<60?"just now":r<3600?"".concat(Math.floor(r/60),"m ago"):r<86400?"".concat(Math.floor(r/3600),"h ago"):r<2592e3?"".concat(Math.floor(r/86400),"d ago"):r<31536e3?"".concat(Math.floor(r/2592e3),"mo ago"):"".concat(Math.floor(r/31536e3),"y ago")},y=((0,h.v)((e,s)=>({issues:[],filteredIssues:[],loading:!1,error:null,searchTerm:"",selectedLabels:["good first issue","help wanted"],selectedLanguages:["javascript","typescript","python"],sortBy:"newest",issuesToDisplay:24,incrementIssuesToDisplay:()=>{e(e=>({issuesToDisplay:e.issuesToDisplay+12}))},fetchIssues:async()=>{e({loading:!0,error:null});try{let{sortBy:t,selectedLanguages:r,selectedLabels:a}=s(),{issues:l,error:o}=await p({sortBy:t,languages:r,labels:a});e({issues:l,filteredIssues:l,loading:!1,error:o}),s().setSearchTerm(s().searchTerm)}catch(s){console.error("Error fetching issues:",s),e({error:s.message||"Failed to fetch issues.",loading:!1})}},setSearchTerm:t=>{e({searchTerm:t});let{issues:r}=s();if(!t){e({filteredIssues:r});return}let a=t.toLowerCase();e({filteredIssues:r.filter(e=>{var s;return e.title.toLowerCase().includes(a)||e.repositoryName.toLowerCase().includes(a)||(null===(s=e.repositoryLanguage)||void 0===s?void 0:s.toLowerCase().includes(a))||e.labels.some(e=>e.name.toLowerCase().includes(a))})})},setSelectedLabels:t=>{e({selectedLabels:t}),s().fetchIssues()},setSelectedLanguages:t=>{e({selectedLanguages:t}),s().fetchIssues()},setSortBy:t=>{e({sortBy:t}),s().fetchIssues()}})),["good first issue","help wanted","hacktoberfest"]);function v(e){let{issue:s,isOpen:t,onClose:h}=e;if((0,m.useEffect)(()=>{let e=e=>{"Escape"===e.key&&t&&h()};return t&&(document.addEventListener("keydown",e),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",e),document.body.style.overflow="unset"}},[t,h]),!t||!s)return null;let g=e=>{let s="#".concat(e),t=Number.parseInt(e.substring(0,2),16),r=Number.parseInt(e.substring(2,4),16);return{backgroundColor:s,color:(299*t+587*r+114*Number.parseInt(e.substring(4,6),16))/1e3>128?"#000000":"#ffffff",border:"none"}};return(0,r.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[(0,r.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-50 backdrop-blur-sm",onClick:h}),(0,r.jsxs)("div",{className:"relative bg-github-canvas-default border border-github-border-default rounded-xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-hidden",style:{backgroundColor:"var(--github-canvas-default)",borderColor:"var(--github-border-default)"},children:[(0,r.jsxs)("div",{className:"flex items-center justify-between p-4 modal-header-clean",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 min-w-0",children:[(0,r.jsx)(a.A,{className:"h-4 w-4 text-github-fg-muted flex-shrink-0"}),(0,r.jsx)("span",{className:"text-sm text-github-fg-muted truncate",children:s.repositoryName}),s.repositoryLanguage&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{className:"text-github-fg-muted",children:"â€¢"}),(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[(0,r.jsx)(l.A,{className:"h-3.5 w-3.5 text-github-fg-muted"}),(0,r.jsx)("span",{className:"text-sm text-github-fg-muted",children:s.repositoryLanguage})]})]})]}),(0,r.jsx)("button",{onClick:h,className:"minimalistic-close-button","aria-label":"Close modal",children:(0,r.jsx)(o.A,{className:"h-4 w-4"})})]}),(0,r.jsx)("div",{className:"overflow-y-auto max-h-[calc(90vh-120px)]",children:(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold text-github-fg-default mb-4 leading-tight",children:s.title}),s.labels.length>0&&(0,r.jsx)("div",{className:"flex flex-wrap gap-2 mb-6",children:s.labels.map(e=>(0,r.jsx)("span",{className:"label-badge ".concat(y.includes(e.name.toLowerCase())?"label-highlight":""),style:g(e.color),title:e.description||e.name,children:e.name},e.name))}),(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("h3",{className:"text-sm font-semibold text-github-fg-default mb-3",children:"Description"}),(0,r.jsx)("div",{className:"text-sm text-github-fg-default leading-relaxed whitespace-pre-wrap bg-github-canvas-subtle p-4 rounded-xl border border-github-border-default max-h-[250px] overflow-y-auto issue-description-scroll",style:{backgroundColor:"var(--github-canvas-subtle)",borderColor:"var(--github-border-default)"},children:s.body||"No description provided."})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-6 card-section",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 text-sm text-github-fg-muted",children:[(0,r.jsx)(i.A,{className:"h-4 w-4"}),(0,r.jsx)("span",{children:"Created by:"}),(0,r.jsxs)("a",{href:s.user.html_url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-github-accent-fg hover:underline",children:[(0,r.jsx)(d.default,{src:s.user.avatar_url||"/placeholder.svg",alt:"".concat(s.user.login,"'s avatar"),width:16,height:16,className:"rounded-full"}),s.user.login]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2 text-sm text-github-fg-muted",children:[(0,r.jsx)(n.A,{className:"h-4 w-4"}),(0,r.jsxs)("span",{children:["Created ",x(s.createdDate)]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2 text-sm text-github-fg-muted",children:[(0,r.jsx)(c.A,{className:"h-4 w-4"}),(0,r.jsxs)("span",{children:[s.comments," comment",1!==s.comments?"s":""]})]}),(0,r.jsx)("div",{className:"flex items-center gap-2 text-sm text-github-fg-muted",children:(0,r.jsxs)("span",{children:["Issue #",s.number]})})]})]})}),(0,r.jsx)("div",{className:"p-4 modal-footer-clean",children:(0,r.jsxs)("a",{href:s.issueLink,target:"_blank",rel:"noopener noreferrer",className:"refined-github-button w-full flex items-center justify-center gap-2 py-3",children:[(0,r.jsx)(u.A,{className:"h-4 w-4"}),"View on GitHub"]})})]})]})}}}]);
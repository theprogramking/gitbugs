(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{456:(e,t,s)=>{"use strict";s.d(t,{EZ:()=>f,fw:()=>m,qU:()=>b,b5:()=>v});var a=s(5155),r=s(2115),i=s(5453),o=s(838);let l=new(s(7581)).q({max:50,ttl:3e5,allowStale:!0,updateAgeOnGet:!1,updateAgeOnHas:!1});function n(e,t,s){let a=(null==s?void 0:s.ttl)||3e5;l.set(e,t,{ttl:a})}var c=s(9509);async function u(e,t){let s,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3;for(let r=0;r<=a;r++)try{let s=new AbortController,a=setTimeout(()=>s.abort(),8e3),r=await fetch(e,{...t,signal:s.signal});if(clearTimeout(a),r.ok)return r;throw r.status>=400&&r.status,Error("HTTP ".concat(r.status,": ").concat(r.statusText))}catch(e){if(s=e,r<a){let e=Math.min(500*Math.pow(2,r),2e3);await new Promise(t=>setTimeout(t,e))}}throw s}async function d(e){var t,s,a;let r=!(arguments.length>1)||void 0===arguments[1]||arguments[1],i=function(e){let{languages:t,labels:s,sortBy:a}=e;return"issues:".concat(a,":").concat(t.join(","),":").concat(s.join(","))}(e);if(r){let e=l.get(i);if(e)return{...e,cached:!0}}try{let t=c.env.NEXT_PUBLIC_GITHUB_TOKEN||c.env.GITHUB_PAT;if(!t)return{issues:[],error:"GitHub token not configured. Please add GITHUB_PAT to your environment variables."};let s={Accept:"application/vnd.github.v3+json",Authorization:"Bearer ".concat(t),"User-Agent":"Bitbug-Issues-Explorer/2.0.0","X-GitHub-Api-Version":"2022-11-28"},{languages:a,labels:r,sortBy:o}=e,l="is:issue is:open";a.length>0&&(l+=" language:".concat(a[0])),r.length>0&&(l+=" ".concat(r.map(e=>'label:"'.concat(e,'"')).join(" ")));let{sort:d,order:g}={newest:{sort:"created",order:"desc"},comments:{sort:"comments",order:"desc"},activity:{sort:"updated",order:"desc"}}[o],m=[];for(let e=0;e<Math.ceil(8/3);e++){let t=[];for(let a=0;a<3;a++){let r=3*e+a+1;if(r>8)break;let i="https://api.github.com/search/issues?q=".concat(encodeURIComponent(l),"&sort=").concat(d,"&order=").concat(g,"&per_page=100&page=").concat(r);t.push(u(i,{headers:s}).then(e=>e.json()).then(e=>({page:r,data:e})).catch(e=>({page:r,error:e})))}for(let e of(await Promise.allSettled(t)))if("fulfilled"===e.status&&e.value.data&&!e.value.error){let{data:t}=e.value;t.items&&t.items.length>0&&m.push(...t.items)}e<Math.ceil(8/3)-1&&await new Promise(e=>setTimeout(e,50))}if(0===m.length){let e={issues:[],error:null,timestamp:Date.now()};return n(i,e),e}let h=new Map,p=[...new Set(m.map(e=>e.repository_url))].slice(0,30).map(async e=>{try{let t=await u(e,{headers:s});if(t.ok){let s=await t.json();h.set(e,s)}}catch(e){}});await Promise.allSettled(p);let f={issues:m.filter(e=>!e.pull_request).slice(0,800).map(e=>{let t=h.get(e.repository_url);return{id:e.id,number:e.number,title:e.title,body:e.body||"",description:e.body?e.body.substring(0,150)+(e.body.length>150?"...":""):"No description available.",labels:e.labels.map(e=>({name:e.name,color:e.color,description:e.description})),user:{login:e.user.login,avatar_url:e.user.avatar_url,html_url:e.user.html_url},repositoryName:e.repository_url.split("/").slice(-2).join("/"),repositoryUrl:e.repository_url,repositoryLanguage:(null==t?void 0:t.language)||"Unknown",issueLink:e.html_url,createdDate:e.created_at,updatedDate:e.updated_at,comments:e.comments||0,state:e.state}}),error:null,timestamp:Date.now()};return n(i,f,{ttl:48e4}),f}catch(e){if(console.error("Failed to fetch GitHub issues:",e),null===(t=e.message)||void 0===t?void 0:t.includes("HTTP 401"))return{issues:[],error:"Authentication failed. Please check your GitHub token."};if(null===(s=e.message)||void 0===s?void 0:s.includes("HTTP 403"))return{issues:[],error:"Rate limit exceeded. Please try again in a few minutes."};if("AbortError"===e.name||(null===(a=e.message)||void 0===a?void 0:a.includes("timeout")))return{issues:[],error:"Request timed out. Please try again."};return{issues:[],error:e.message||"Failed to fetch issues. Please try again."}}}let g=new Map,m=e=>{let t;if(g.has(e))return g.get(e);let s=Math.floor((Date.now()-new Date(e).getTime())/1e3);return t=s<60?"just now":s<3600?"".concat(Math.floor(s/60),"m ago"):s<86400?"".concat(Math.floor(s/3600),"h ago"):s<2592e3?"".concat(Math.floor(s/86400),"d ago"):s<31536e3?"".concat(Math.floor(s/2592e3),"mo ago"):"".concat(Math.floor(s/31536e3),"y ago"),g.set(e,t),t},h=(0,i.v)((e,t)=>({searchTerm:"",selectedLabels:["good first issue"],selectedLanguages:["javascript"],sortBy:"newest",issuesToDisplay:24,isLoadingMore:!1,setSearchTerm:t=>{e({searchTerm:t})},setSelectedLabels:t=>{e({selectedLabels:t,issuesToDisplay:24})},setSelectedLanguages:t=>{e({selectedLanguages:t.length>0?[t[0]]:[],issuesToDisplay:24})},setSortBy:t=>{e({sortBy:t,issuesToDisplay:24})},loadMore:()=>{let s=t();s.isLoadingMore||(e({issuesToDisplay:s.issuesToDisplay+24,isLoadingMore:!0}),setTimeout(()=>{e({isLoadingMore:!1})},100))},resetPagination:()=>{e({issuesToDisplay:24,isLoadingMore:!1})}})),p=(0,r.createContext)(null);function f(e){let{children:t}=e,s=h();return(0,a.jsx)(p.Provider,{value:s,children:t})}function v(){let e=(0,r.useContext)(p);if(!e)throw Error("useIssuesStore must be used within IssuesProvider");return e}function b(){let{selectedLanguages:e,selectedLabels:t,sortBy:s,searchTerm:a}=v(),i=(0,r.useCallback)(async e=>{let[t,s]=e,a=await d(s);if(a.error)throw Error(a.error);return a},[]),{data:l,error:n,isLoading:c,mutate:u}=(0,o.Ay)(["github-issues",{languages:e,labels:t,sortBy:s}],i,{revalidateOnFocus:!1,revalidateOnReconnect:!1,dedupingInterval:3e5,errorRetryCount:2,errorRetryInterval:3e3,keepPreviousData:!0,revalidateIfStale:!1});return{issues:(0,r.useMemo)(()=>{if(!(null==l?void 0:l.issues))return[];if(!a.trim())return l.issues;let e=a.toLowerCase().trim();return l.issues.filter(t=>t.title.toLowerCase().includes(e)||t.repositoryName.toLowerCase().includes(e)||t.repositoryLanguage.toLowerCase().includes(e)||t.labels.some(t=>t.name.toLowerCase().includes(e)))},[null==l?void 0:l.issues,a]),loading:c,error:(null==n?void 0:n.message)||null,cached:(null==l?void 0:l.cached)||!1,refetch:u}}},1057:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>u});var a=s(5155),r=s(2115),i=s(5028),o=s(456);let l=(0,i.default)(()=>Promise.all([s.e(96),s.e(76),s.e(637)]).then(s.bind(s,2637)),{loadableGenerated:{webpack:()=>[2637]},loading:()=>(0,a.jsx)("div",{className:"h-16 bg-gray-200 dark:bg-gray-800"})}),n=(0,i.default)(()=>Promise.all([s.e(96),s.e(854)]).then(s.bind(s,1854)),{loadableGenerated:{webpack:()=>[1854]},loading:()=>(0,a.jsx)("div",{className:"w-80 bg-gray-100 dark:bg-gray-900 hidden lg:block"})}),c=(0,i.default)(()=>Promise.all([s.e(96),s.e(856)]).then(s.bind(s,856)),{loadableGenerated:{webpack:()=>[856]},loading:()=>(0,a.jsx)("div",{className:"px-4 sm:px-6 lg:px-8 py-8",children:(0,a.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:Array.from({length:8}).map((e,t)=>(0,a.jsx)("div",{className:"h-64 bg-gray-200 dark:bg-gray-800 animate-pulse rounded-lg"},t))})})});function u(){return(0,a.jsx)(o.EZ,{children:(0,a.jsx)(d,{})})}function d(){let[e,t]=(0,r.useState)(!1),[s,i]=(0,r.useState)(!0);return((0,r.useEffect)(()=>{let e=setTimeout(()=>{i(!1)},300);return()=>clearTimeout(e)},[]),(0,r.useEffect)(()=>{let e=()=>{window.innerWidth>=1024&&t(!1)};return window.addEventListener("resize",e,{passive:!0}),()=>window.removeEventListener("resize",e)},[]),s)?(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-github-canvas-default",children:(0,a.jsxs)("div",{className:"cascading-loader",children:[(0,a.jsx)("div",{className:"cascading-dot"}),(0,a.jsx)("div",{className:"cascading-dot"}),(0,a.jsx)("div",{className:"cascading-dot"}),(0,a.jsx)("div",{className:"cascading-dot"}),(0,a.jsx)("div",{className:"cascading-dot"})]})}):(0,a.jsxs)("div",{className:"min-h-screen",style:{backgroundColor:"var(--github-canvas-default)"},children:[(0,a.jsx)(l,{onToggleSidebar:()=>t(!e),sidebarOpen:e,isLoading:!1}),(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)(n,{isOpen:e,onClose:()=>t(!1)}),(0,a.jsx)("main",{className:"flex-1",children:(0,a.jsx)(c,{})})]})]})}},9387:(e,t,s)=>{Promise.resolve().then(s.bind(s,1057))}},e=>{var t=t=>e(e.s=t);e.O(0,[96,358],()=>t(9387)),_N_E=e.O()}]);